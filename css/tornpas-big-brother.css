/* File: tornpas-big-brother.css */

/* ==========================================================================
   Base Styles for TornPAs Big Brother Page
   (Leverages global.css for general layout and fonts)
   ========================================================================== */

/* Main content area specific to this page */
.page-specific-content-area {
    padding: 20px; /* Adjust as needed */
    max-width: 1200px; /* Limit overall content width */
    margin: 20px auto; /* Center the content area */
    background-color: #1e1e1e; /* Dark background */
    border-radius: 8px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    color: #f0f0f0; /* Light text color */
}

/* Page Title */
h2 {
    color: #00a8ff; /* Your theme's blue color */
    text-align: center;
    margin-bottom: 25px;
    margin-top: 5px;
    font-size: 2em;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
}

/* New wrapper for tab structure */
.main-content-wrapper {
    display: flex;
    flex-direction: column;
    gap: 15px; /* Space between tabs and content */
}

/* ==========================================================================
   Tab Navigation Styles (Specific to Big Brother Page - with '-bb' suffix)
   ========================================================================== */

.tab-navigation-bb {
    display: flex;
    justify-content: space-around;
    border-bottom: none; /* No separator below the tabs themselves */
    flex-wrap: wrap;
    margin-bottom: -1px; /* Overlap with the border of the content container */
}

.tab-button-bb {
    background-color: #333; /* Default tab background */
    color: #f0f0f0;
    padding: 10px 15px;
    cursor: pointer;
    transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
    border-radius: 8px 8px 0 0; /* Rounded top corners */
    flex-grow: 1; /* Make buttons grow to fill space */
    min-width: 150px; /* Minimum width for each tab */
    text-align: center;
    font-weight: bold;
    border: 1px solid transparent; /* Transparent border by default */
    border-bottom: none; /* No bottom border for tab itself */
    box-sizing: border-box; /* Include padding and border in element's total width and height */
    outline: none; /* Remove focus outline */
}

.tab-button-bb:hover {
    background-color: #555; /* Hover color */
    color: #00a8ff; /* Highlight text on hover */
}

.tab-button-bb.active {
    background-color: #222; /* Active tab background - matches content container */
    color: #00a8ff; /* Active tab text color - your theme blue */
    border-color: black; /* Stronger border for active tab */
    border-bottom: 1px solid #222; /* Cover the content container's top border */
    cursor: default; /* Indicate it's not clickable again */
}

/* Tab Content Container */
.tab-content-container-bb {
    background-color: #222; /* Dark background for content area */
    border: 1px solid black; /* Border around the content */
    border-radius: 8px; /* Rounded corners for the container */
    padding: 15px; /* Internal padding */
    flex-grow: 1;
    min-height: 400px; /* Ensures a minimum height */
    box-sizing: border-box;
    overflow: hidden; /* Contains overflowing content */
    display: flex; /* Use flex to manage inner tab panes */
    flex-direction: column;
}

/* Individual Tab Panes */
.tab-pane-bb {
    display: none; /* Hidden by default */
    height: 100%; /* Take full height of parent container */
    width: 100%; /* Take full width */
    overflow-y: auto; /* Enable scrolling for content if it overflows */
    box-sizing: border-box;
    padding-right: 5px; /* Space for scrollbar if present */
}

.tab-pane-bb.active {
    display: block; /* Show active tab pane */
}

/* ==========================================================================
   Table Container & Friendly Members Table Styles
   ========================================================================== */

/* Table Container - Provides a visual grouping for the table */
.table-container {
    background-color: #222;
    border: 1px solid black;
    border-radius: 8px;
    overflow: hidden;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    height: 100%; /* Ensure table container fills its tab pane */
    display: flex;
    flex-direction: column;
}

/* Loading/Error Message within the table container (managed by JS, but styled here) */
#loading-message-container {
    text-align: center;
    padding: 20px;
    color: #bbb;
    flex-grow: 1; /* Allows it to center vertically if nothing else is there */
    display: flex;
    align-items: center;
    justify-content: center;
}


.friendly-members-table,
.gains-overview-table { /* Added .gains-overview-table to common styles */
    width: 100%;
    border-collapse: collapse;
    font-family: Arial, sans-serif;
    color: #ddd;
    table-layout: fixed;
    flex-grow: 1; /* Allow table to fill available space in column */
    display: table; /* Revert to table display for proper rendering */
}

/* Table Header (thead) styles - applies to both tables now */
.friendly-members-table thead th,
.gains-overview-table thead th {
    background-color: #00a8ff;
    color: #1e1e1e;
    font-weight: bold;
    text-align: center;
    padding: 10px 8px;
    border-bottom: 2px solid #1e1e1e;
    font-size: 0.9em;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    border-right: 1px solid #303030;
}

/* Remove right border from the very last header for a clean look - applies to both tables now */
.friendly-members-table thead th:last-child,
.gains-overview-table thead th:last-child {
    border-right: none;
}

/* Table Body (tbody) cell styles - applies to both tables now */
.friendly-members-table tbody td,
.gains-overview-table tbody td {
    padding: 8px 8px;
    border-bottom: 1px solid #3a3a40;
    vertical-align: middle;
    font-size: 0.85em;
    color: #f0f0f0; /* Default text color for data cells */
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    text-align: center;
    border-right: 1px solid #303030;
}

/* Remove right border from the very last cell in each row - applies to both tables now */
.friendly-members-table tbody td:last-child,
.gains-overview-table tbody td:last-child {
    border-right: none;
}

/* Remove bottom border from the very last row - applies to both tables now */
.friendly-members-table tbody tr:last-child td,
.gains-overview-table tbody tr:last-child td {
    border-bottom: none;
}

/* Hover effect for table rows - applies to both tables now */
.friendly-members-table tbody tr:hover,
.gains-overview-table tbody tr:hover {
    background-color: #38383e;
}

/* Link styles within table cells - IMPORTANT: NOW APPLIES TO BOTH TABLES */
.friendly-members-table a,
.gains-overview-table a { /* ADDED: .gains-overview-table a */
    color: #f0f0f0; /* Make link color white/light gray */
    text-decoration: none; /* Remove underline */
}

.friendly-members-table a:hover,
.gains-overview-table a:hover { /* ADDED: .gains-overview-table a:hover */
    text-decoration: underline; /* Add underline only on hover */
    color: #8ab4f8; /* Optional: change color on hover to a blue, matching screenshot */
}


/* ==========================================================================
   Specific Column Widths (Adjust these based on content and preference)
   ========================================================================== */

/* Current Stats Table Column Widths */
.friendly-members-table th:nth-child(1), .friendly-members-table td:nth-child(1) { width: 12%; } /* Name */
.friendly-members-table th:nth-child(2), .friendly-members-table td:nth-child(2) { width: 9%; }  /* Last Action */
.friendly-members-table th:nth-child(3), .friendly-members-table td:nth-child(3) { width: 9%; }  /* Strength */
.friendly-members-table th:nth-child(4), .friendly-members-table td:nth-child(4) { width: 9%; }  /* Dexterity */
.friendly-members-table th:nth-child(5), .friendly-members-table td:nth-child(5) { width: 9%; }  /* Speed */
.friendly-members-table th:nth-child(6), .friendly-members-table td:nth-child(6) { width: 9%; }  /* Defense */
.friendly-members-table th:nth-child(7), .friendly-members-table td:nth-child(7) { width: 8%; }  /* Total */
.friendly-members-table th:nth-child(8), .friendly-members-table td:nth-child(8) { width: 13%; } /* Status */
.friendly-members-table th:nth-child(9), .friendly-members-table td:nth-child(9) { width: 8%; }  /* Nerve */
.friendly-members-table th:nth-child(10), .friendly-members-table td:nth-child(10) { width: 8%; } /* Energy */
.friendly-members-table th:nth-child(11), .friendly-members-table td:nth-child(11) { width: 8%; } /* Drug CD */

/* Gains Overview Table Column Widths (already defined, but repeated for clarity after changes) */
.gains-overview-table th:nth-child(1), .gains-overview-table td:nth-child(1) { width: 25%; } /* Name */
.gains-overview-table th:nth-child(2), .gains-overview-table td:nth-child(2) { width: 15%; } /* Strength Gain */
.gains-overview-table th:nth-child(3), .gains-overview-table td:nth-child(3) { width: 15%; } /* Dexterity Gain */
.gains-overview-table th:nth-child(4), .gains-overview-table td:nth-child(4) { width: 15%; } /* Speed Gain */
.gains-overview-table th:nth-child(5), .gains-overview-table td:nth-child(5) { width: 15%; } /* Defense Gain */
.gains-overview-table th:nth-child(6), .gains-overview-table td:nth-child(6) { width: 15%; } /* Total Gain */


/* ==========================================================================
   Dynamic Cell Styling (Status, Nerve, Energy, Drug CD, Battle Stats Color Coding)
   ========================================================================== */

/* This single rule makes the font black and bold on ALL battle stat tiers */
.friendly-members-table td.stat-cell {
    color: black !important;
    font-weight: bold;
}

/* Battle Stats Tier Colors (Background colors applied by JS function applyStatColorCoding) */
.stat-tier-1 { background-color: #F5F5F5; } /* Light Grey */
.stat-tier-2 { background-color: #E3F2FD; } /* Pale Blue */
.stat-tier-3 { background-color: #BBDEFB; } /* Light Blue */
.stat-tier-4 { background-color: #FFCDD2; } /* Light Salmon / Pinkish-Red */
.stat-tier-5 { background-color: #EF9A9A; } /* Salmon / Light Red */
.stat-tier-6 { background-color: #E57373; } /* Coral / Orangey-Red */
.stat-tier-7 { background-color: #F44336; } /* Standard Red */
.stat-tier-8 { background-color: #D32F2F; } /* Darker Red (Crimson) */
.stat-tier-9 { background-color: #B71C1C; } /* Very Dark Red (Maroon) */

/* Status Column Text Colors */
.friendly-members-table tbody td.status-okay {
    color: #28a745 !important; /* Green */
}
.friendly-members-table tbody td.status-hospital {
    color: #dc3545 !important; /* Red */
}
.friendly-members-table tbody td.status-jail {
    color: #ffc107 !important; /* Yellow/Orange */
}
.friendly-members-table tbody td.status-traveling {
    color: #17a2b8 !important; /* Cyan */
}
.friendly-members-table tbody td.status-abroad {
    color: #17a2b8 !important; /* A clear, pleasant blue for 'Abroad' */
}
.friendly-members-table tbody td.status-other {
    color: #ffb86c !important; /* Orange for other states like Federal */
}

/* Nerve and Energy Column Text Colors */
.friendly-members-table td.nerve-text {
    color: #d32f2f; /* Red Text for Nerve Column */
}
.friendly-members-table td.energy-text {
    color: #28a745; /* Green Text for Energy Column */
}

/* Drug Cooldown Column Text Colors */
/* Reusing status classes for Drug CD values */
.friendly-members-table td.status-okay {
    color: #28a745; /* Green for none/short CD */
}
.friendly-members-table td.status-other { /* Medium CD */
    color: #ffb86c; /* Orange */
}
.friendly-members-table td.status-hospital { /* Long CD */
    color: #dc3545; /* Red */
}


/* ==========================================================================
   Gains Tracking Tab Styles
   ========================================================================== */

.gains-tracking-controls {
    background-color: #1a1a1a;
    border: 1px solid #333;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px; /* Space below controls */
    text-align: center;
    color: #f0f0f0;
}

.gains-tracking-controls p {
    margin-bottom: 10px;
    font-size: 0.9em;
}

#trackingStatus {
    font-weight: bold;
    color: #e0a71a; /* Gold color for status */
    margin-top: 10px;
    font-size: 1.1em;
}

#gainsStartedAt { /* New style for the start time display */
    font-size: 0.85em;
    color: #bbb;
    margin-top: 5px;
}

/* Shared button style for the Big Brother page */
.action-btn-bb {
    background-color: #007bff; /* Blue */
    color: white;
    padding: 8px 15px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    font-weight: bold;
    transition: background-color 0.2s ease;
    margin: 5px; /* Space between buttons */
}

.action-btn-bb:hover {
    background-color: #0056b3; /* Darker blue on hover */
}

/* Specific color for the "Stop Tracking" button */
.action-btn-bb.stop-tracking {
    background-color: #dc3545; /* Red for stop */
}

.action-btn-bb.stop-tracking:hover {
    background-color: #c82333; /* Darker red on hover */
}

/* Hidden utility class */
.hidden {
    display: none !important;
}

/* Gains specific colors for the values (+X, -Y, 0) */
.gain-positive {
    color: #4CAF50; /* Green for positive gains */
    font-weight: bold;
}

.gain-negative {
    color: #dc3545; /* Red for negative gains */
    font-weight: bold;
}

.gain-neutral {
    color: #f0f0f0; /* White/light for no change (or a very subtle gray) */
}

/* Optional: Highlight new members in the gains table */
.gains-overview-table .new-member-gain {
    background-color: rgba(0, 168, 255, 0.1); /* Subtle blue tint */
}
.gains-overview-table .new-member-gain a {
    color: #00a8ff; /* Highlight name too */
}


/* ==========================================================================
   Responsive Adjustments
   ========================================================================== */

@media (max-width: 992px) {
    .page-specific-content-area {
        padding: 15px;
        margin: 15px auto;
    }
    .tab-button-bb {
        padding: 8px 10px;
        min-width: 120px;
    }
    .friendly-members-table thead th,
    .friendly-members-table tbody td,
    .gains-overview-table thead th,
    .gains-overview-table tbody td {
        font-size: 0.8em;
        padding: 6px 4px;
    }

    /* Adjust column widths for tablets/smaller desktops for current stats table */
    .friendly-members-table th:nth-child(1), .friendly-members-table td:nth-child(1) { width: 14%; } /* Name */
    .friendly-members-table th:nth-child(2), .friendly-members-table td:nth-child(2) { width: 9%; }  /* Last Action */
    .friendly-members-table th:nth-child(3), .friendly-members-table td:nth-child(3) { width: 9%; }  /* Strength */
    .friendly-members-table th:nth-child(4), .friendly-members-table td:nth-child(4) { width: 9%; }  /* Dexterity */
    .friendly-members-table th:nth-child(5), .friendly-members-table td:nth-child(5) { width: 9%; }  /* Speed */
    .friendly-members-table th:nth-child(6), .friendly-members-table td:nth-child(6) { width: 9%; }  /* Defense */
    .friendly-members-table th:nth-child(7), .friendly-members-table td:nth-child(7) { width: 8%; }  /* Total */
    .friendly-members-table th:nth-child(8), .friendly-members-table td:nth-child(8) { width: 12%; } /* Status */
    .friendly-members-table th:nth-child(9), .friendly-members-table td:nth-child(9) { width: 8%; }  /* Nerve */
    .friendly-members-table th:nth-child(10), .friendly-members-table td:nth-child(10) { width: 8%; } /* Energy */
    .friendly-members-table th:nth-child(11), .friendly-members-table td:nth-child(11) { width: 8%; } /* Drug CD */

    /* Adjust column widths for tablets/smaller desktops for gains table */
    .gains-overview-table th:nth-child(1), .gains-overview-table td:nth-child(1) { width: 25%; } /* Name */
    .gains-overview-table th:nth-child(2), .gains-overview-table td:nth-child(2) { width: 15%; } /* Strength Gain */
    .gains-overview-table th:nth-child(3), .gains-overview-table td:nth-child(3) { width: 15%; } /* Dexterity Gain */
    .gains-overview-table th:nth-child(4), .gains-overview-table td:nth-child(4) { width: 15%; } /* Speed Gain */
    .gains-overview-table th:nth-child(5), .gains-overview-table td:nth-child(5) { width: 15%; } /* Defense Gain */
    .gains-overview-table th:nth-child(6), .gains-overview-table td:nth-child(6) { width: 15%; } /* Total Gain */
}

@media (max-width: 768px) {
    .tab-navigation-bb {
        flex-direction: column;
    }
    .tab-button-bb {
        border-radius: 5px;
        margin-bottom: 5px;
    }
    /* On mobile, potentially allow table to scroll horizontally if needed */
    .table-container {
        overflow-x: auto;
    }
    .friendly-members-table,
    .gains-overview-table {
        min-width: 700px; /* Ensure table doesn't collapse too much */
        table-layout: auto; /* Allow column widths to adjust to content */
    }
    .friendly-members-table thead th,
    .friendly-members-table tbody td,
    .gains-overview-table thead th,
    .gains-overview-table tbody td {
        font-size: 0.75em;
        padding: 5px 3px;
    }
}

@media (max-width: 480px) {
    h2 {
        font-size: 1.5em;
        margin-bottom: 15px;
    }
    .friendly-members-table,
    .gains-overview-table {
        min-width: 600px; /* Further adjust min-width for very small screens */
    }
    .friendly-members-table thead th,
    .friendly-members-table tbody td,
    .gains-overview-table thead th,
    .gains-overview-table tbody td {
        font-size: 0.7em;
        padding: 4px 2px;
    }
    .action-btn-bb {
        padding: 6px 10px;
        font-size: 0.8em;
    }
}